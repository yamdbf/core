{"version":3,"sources":["util/DeprecatedMethodDecorator.ts"],"names":[],"mappings":";;AAEA;;;;;GAKG;AACH,0BAAiC,GAAG,aAAoB;IAEvD,IAAI,OAAQ,gBAAwB,CAAC,SAAS,KAAK,WAAW;QAAG,gBAAwB,CAAC,SAAS,GAAG,EAAE,CAAC;IACzG,MAAM,SAAS,GAAgC,gBAAwB,CAAC,SAAS,CAAC;IAClF,IAAI,OAAO,GAAW,aAAa,CAAC,CAAC,CAAC,CAAC;IAEvC,gCAAgC,OAAe;QAE9C,IAAI,SAAS,CAAC,OAAO,CAAC;YAAE,OAAO;QAC/B,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;QAC1B,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;IACpD,CAAC;IAED,kBAAkB,MAAc,EAAE,GAAgB,EAAE,UAA8B;QAEjF,IAAI,CAAC,UAAU;YAAE,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QAC3E,MAAM,QAAQ,GAAQ,UAAU,CAAC,KAAK,CAAC;QACvC,UAAU,CAAC,KAAK,GAAG,UAAS,GAAG,IAAW;YAEzC,sBAAsB,CAAC,OAAO,CAAC,CAAC;YAChC,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC;QACF,OAAO,UAAU,CAAC;IACnB,CAAC;IAED,IAAI,OAAO,OAAO,KAAK,QAAQ,EAC/B;QACC,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,GAA8C,aAAoB,CAAC;QAClG,OAAO,GAAG,KAAK,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,GAAG,4DAA4D,CAAC;QAC1G,OAAO,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;KACzC;;QACI,OAAO,QAAQ,CAAC;AACtB,CAAC;AAhCD,4CAgCC","file":"DeprecatedMethodDecorator.js","sourcesContent":["export function deprecatedMethod(message: string): MethodDecorator;\nexport function deprecatedMethod(target: object, key: PropertyKey, descriptor: PropertyDescriptor): PropertyDescriptor;\n/**\n * Logs a deprecation warning for the decorated class method\n * if it is called within the current process\n * @param {string} [message] Method deprecation message\n * @returns {MethodDecorator}\n */\nexport function deprecatedMethod(...decoratorArgs: any[]): MethodDecorator | PropertyDescriptor\n{\n\tif (typeof (deprecatedMethod as any).warnCache === 'undefined') (deprecatedMethod as any).warnCache = {};\n\tconst warnCache: { [key: string]: boolean } = (deprecatedMethod as any).warnCache;\n\tlet message: string = decoratorArgs[0];\n\n\tfunction emitDeprecationWarning(warning: string): void\n\t{\n\t\tif (warnCache[warning]) return;\n\t\twarnCache[warning] = true;\n\t\tprocess.emitWarning(warning, 'DeprecationWarning');\n\t}\n\n\tfunction decorate(target: object, key: PropertyKey, descriptor: PropertyDescriptor): PropertyDescriptor\n\t{\n\t\tif (!descriptor) descriptor = Object.getOwnPropertyDescriptor(target, key);\n\t\tconst original: any = descriptor.value;\n\t\tdescriptor.value = function(...args: any[]): any\n\t\t{\n\t\t\temitDeprecationWarning(message);\n\t\t\treturn original.apply(this, args);\n\t\t};\n\t\treturn descriptor;\n\t}\n\n\tif (typeof message !== 'string')\n\t{\n\t\tconst [target, key, descriptor]: [object, PropertyKey, PropertyDescriptor] = decoratorArgs as any;\n\t\tmessage = `\\`${target.constructor.name}#${key}()\\` is deprecated and will be removed in a future release`;\n\t\treturn decorate(target, key, descriptor);\n\t}\n\telse return decorate;\n}\n"],"sourceRoot":"../../src"}