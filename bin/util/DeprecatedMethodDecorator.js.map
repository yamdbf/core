{"version":3,"sources":["util/DeprecatedMethodDecorator.ts"],"names":[],"mappings":";;AAAA,iCAA8B;AAI9B;;;;;GAKG;AACH,SAAgB,gBAAgB,CAAC,GAAG,aAAoB;IAEvD,IAAI,OAAO,GAAW,aAAa,CAAC,CAAC,CAAC,CAAC;IAEvC,SAAS,QAAQ,CAAC,MAAc,EAAE,GAAgB,EAAE,UAA8B;QAEjF,IAAI,CAAC,UAAU;YAAE,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAE,CAAC;QAC5E,MAAM,QAAQ,GAAQ,UAAU,CAAC,KAAK,CAAC;QACvC,UAAU,CAAC,KAAK,GAAG,UAAS,GAAG,IAAW;YAEzC,WAAI,CAAC,sBAAsB,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;YACvD,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC;QACF,OAAO,UAAU,CAAC;IACnB,CAAC;IAED,IAAI,OAAO,OAAO,KAAK,QAAQ,EAC/B;QACC,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,GAA8C,aAAoB,CAAC;QAClG,OAAO,GAAG,KAAK,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,GAAa,4DAA4D,CAAC;QACpH,OAAO,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;KACzC;;QACI,OAAO,QAAQ,CAAC;AACtB,CAAC;AAvBD,4CAuBC","file":"DeprecatedMethodDecorator.js","sourcesContent":["import { Util } from './Util';\n\nexport function deprecatedMethod(message: string): MethodDecorator;\nexport function deprecatedMethod(target: object, key: PropertyKey, descriptor: PropertyDescriptor): PropertyDescriptor;\n/**\n * Logs a deprecation warning for the decorated class method\n * if it is called within the current process\n * @param {string} [message] Method deprecation message\n * @returns {MethodDecorator}\n */\nexport function deprecatedMethod(...decoratorArgs: any[]): MethodDecorator | PropertyDescriptor\n{\n\tlet message: string = decoratorArgs[0];\n\n\tfunction decorate(target: object, key: PropertyKey, descriptor: PropertyDescriptor): PropertyDescriptor\n\t{\n\t\tif (!descriptor) descriptor = Object.getOwnPropertyDescriptor(target, key)!;\n\t\tconst original: any = descriptor.value;\n\t\tdescriptor.value = function(...args: any[]): any\n\t\t{\n\t\t\tUtil.emitDeprecationWarning(deprecatedMethod, message);\n\t\t\treturn original.apply(this, args);\n\t\t};\n\t\treturn descriptor;\n\t}\n\n\tif (typeof message !== 'string')\n\t{\n\t\tconst [target, key, descriptor]: [object, PropertyKey, PropertyDescriptor] = decoratorArgs as any;\n\t\tmessage = `\\`${target.constructor.name}#${key as string}()\\` is deprecated and will be removed in a future release`;\n\t\treturn decorate(target, key, descriptor);\n\t}\n\telse return decorate;\n}\n"],"sourceRoot":"../../src"}